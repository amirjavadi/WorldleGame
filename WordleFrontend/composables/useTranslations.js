import { ref, computed } from 'vue'

// Translations composable for handling multi-language support
export const useTranslations = () => {
  // Get stored locale from localStorage or default to 'fa'
  const getStoredLocale = () => {
    if (typeof window !== 'undefined') {
      return localStorage.getItem('preferredLocale') || 'fa'
    }
    return 'fa'
  }

  const locale = ref(getStoredLocale())
  const dir = computed(() => locale.value === 'fa' ? 'rtl' : 'ltr')

  const translations = {
    fa: {
      welcome: 'خوش آمدید',
      login: 'ورود',
      register: 'ثبت نام',
      username: 'نام کاربری',
      password: 'رمز عبور',
      confirmPassword: 'تکرار رمز عبور',
      loading: 'در حال بارگذاری...',
      noAccount: 'حساب کاربری ندارید؟',
      haveAccount: 'حساب کاربری دارید؟',
      passwordsDoNotMatch: 'رمز عبور و تکرار آن مطابقت ندارند',
      guest: 'مهمان',
      email: 'ایمیل',
      invalidEmail: 'لطفا یک ایمیل معتبر وارد کنید',
      playAsGuest: 'ورود به عنوان مهمان',
      gameTitle: 'بازی وردل فارسی',
      guessWord: 'کلمه را حدس بزنید',
      submit: 'ارسال',
      enter: 'ارسال',
      backspace: 'پاک کردن',
      score: 'امتیاز',
      attempts: 'تلاش‌ها',
      gameOver: 'بازی تمام شد',
      youWon: 'شما برنده شدید!',
      youLost: 'شما باختید!',
      tryAgain: 'تلاش مجدد',
      leaderboard: 'جدول امتیازات',
      rank: 'رتبه',
      player: 'بازیکن',
      guestPlayer: 'بازیکن مهمان',
      invalidWord: 'کلمه نامعتبر',
      wordTooShort: 'کلمه باید ۵ حرفی باشد',
      statistics: 'آمار بازی',
      totalGames: 'کل بازی‌ها',
      gamesPlayed: 'بازی‌های انجام شده',
      winRate: 'درصد برد',
      currentStreak: 'برد متوالی فعلی',
      maxStreak: 'بیشترین برد متوالی',
      bestStreak: 'بهترین رکورد',
      averageAttempts: 'میانگین تلاش‌ها',
      playAgain: 'بازی مجدد',
      easy: 'آسان',
      medium: 'متوسط',
      hard: 'سخت',
      difficulty: 'سختی بازی',
      noHelpLeft: 'راهنمایی باقی نمانده است',
      noNewHelpAvailable: 'راهنمایی جدیدی در دسترس نیست',
      logout: 'خروج',
      profile: 'پروفایل',
      userInfo: 'اطلاعات کاربری',
      close: 'بستن',
      noGamesYet: 'هنوز بازی‌ای انجام نشده است',
      won: 'برنده',
      lost: 'باخته',
      date: 'تاریخ',
      word: 'کلمه',
      result: 'نتیجه',
      playerProfile: 'پروفایل بازیکن',
      totalScore: 'امتیاز کل',
      guessDistribution: 'توزیع حدس‌ها',
      timeUntilNextChallenge: 'زمان باقی‌مانده برای چالش امروز',
      nextChallengeIn: 'زمان باقی‌مانده برای چالش امروز',
      startChallenge: 'شروع چالش',
      hours: 'ساعت',
      minutes: 'دقیقه',
      seconds: 'ثانیه',
      weeklyStats: 'آمار هفتگی',
      monthlyStats: 'آمار ماهانه',
      lastUpdate: 'آخرین به‌روزرسانی',
      unlockPremium: 'ویژگی‌های حساب کاربری',
      guestModalDescription: 'با ایجاد حساب کاربری به امکانات بیشتری دسترسی خواهید داشت',
      progressTracking: 'پیگیری پیشرفت',
      achievements: 'دستاوردها',
      multiplayerMode: 'حالت چند نفره',
      cloudSync: 'همگام‌سازی ابری',
      continueFree: 'ادامه به عنوان مهمان',
      guestAccessDenied: 'دسترسی محدود شده',
      pleaseLoginToAccessDaily: 'برای دسترسی به چالش روزانه لطفا وارد شوید یا ثبت‌نام کنید',
      pleaseLoginFirst: 'لطفا ابتدا وارد شوید',
      dailyChallenge: 'چالش روزانه',
      dailyChallengeDescription: 'هر روز یک کلمه جدید، یک چالش جدید!',
      dailyChallengeStats: 'آمار چالش روزانه',
      dailyChallengeHistory: 'تاریخچه چالش‌ها',
      dailyChallengeBest: 'بهترین امتیاز',
      dailyChallengeStreak: 'توالی برد',
      dailyChallengeWinRate: 'درصد برد',
      dailyChallengeAverageGuesses: 'میانگین حدس‌ها',
      dailyChallengeShare: 'اشتراک نتیجه',
      dailyChallengeShareText: 'من چالش روزانه وردل رو در {attempts} حدس حل کردم!',
      dailyChallengeShareButton: 'اشتراک',
      dailyChallengeCopyButton: 'کپی',
      dailyChallengeCopied: 'کپی شد!',
      dailyChallengeNotStarted: 'شما هنوز در چالش امروز شرکت نکرده‌اید',
      dailyChallengeAlreadyPlayed: 'شما امروز در چالش شرکت کرده‌اید',
      dailyChallengeExpired: 'زمان چالش امروز به پایان رسیده است',
      dailyChallengeLoading: 'در حال دریافت چالش...',
      dailyChallengeError: 'خطا در دریافت چالش',
      dailyChallengeRetry: 'تلاش مجدد',
      dailyChallengeLeaderboardTitle: 'جدول امتیازات',
      dailyChallengeLeaderboardEmpty: 'هنوز کسی در چالش امروز شرکت نکرده است',
      dailyChallengeLeaderboardLoading: 'در حال دریافت جدول امتیازات...',
      dailyChallengeLeaderboardError: 'خطا در دریافت جدول امتیازات',
      dailyChallengeParticipationSuccess: 'شما با موفقیت در چالش شرکت کردید',
      dailyChallengeParticipationError: 'خطا در ثبت‌نام در چالش',
      dailyChallengeGuessSuccess: 'حدس شما با موفقیت ثبت شد',
      dailyChallengeGuessError: 'خطا در ثبت حدس',
      dailyChallengeGuessInvalid: 'حدس نامعتبر',
      dailyChallengeGuessTooShort: 'حدس باید ۵ حرفی باشد',
      dailyChallengeGuessTooLong: 'حدس نمی‌تواند بیشتر از ۵ حرف باشد',
      dailyChallengeGuessNotInDictionary: 'این کلمه در فرهنگ لغت موجود نیست',
      dailyChallengeGuessAlreadyUsed: 'این حدس قبلاً استفاده شده است',
      dailyChallengeGuessLimitReached: 'شما به حداکثر تعداد حدس مجاز رسیده‌اید',
      dailyChallengeGuessInProgress: 'در حال بررسی حدس...',
      dailyChallengeGuessSuccessTitle: 'تبریک!',
      dailyChallengeGuessSuccessMessage: 'شما چالش امروز را در {attempts} حدس حل کردید!',
      dailyChallengeGuessFailureTitle: 'متأسفانه باختید!',
      dailyChallengeGuessFailureMessage: 'کلمه امروز "{word}" بود',
      dailyChallengeRules: 'قوانین چالش روزانه',
      dailyChallengeRule1: 'هر روز یک کلمه جدید برای حدس زدن',
      dailyChallengeRule2: '۶ فرصت برای حدس زدن کلمه دارید',
      dailyChallengeRule3: 'فقط یک بار در روز می‌توانید شرکت کنید',
      noPlayer: 'بازیکنی وجود ندارد',
      yourRank: 'رتبه شما',
      yourScore: 'امتیاز شما',
      viewAllRankings: 'مشاهده همه رتبه‌ها'
    },
    en: {
      welcome: 'Welcome',
      login: 'Login',
      register: 'Register',
      username: 'Username',
      password: 'Password',
      confirmPassword: 'Confirm Password',
      loading: 'Loading...',
      noAccount: 'Don\'t have an account?',
      haveAccount: 'Already have an account?',
      passwordsDoNotMatch: 'Passwords do not match',
      guest: 'Guest',
      email: 'Email',
      invalidEmail: 'Please enter a valid email',
      playAsGuest: 'Play as Guest',
      gameTitle: 'Farsi Wordle',
      guessWord: 'Guess the word',
      submit: 'Submit',
      enter: 'Enter',
      backspace: 'Backspace',
      score: 'Score',
      attempts: 'Attempts',
      gameOver: 'Game Over',
      youWon: 'You Won!',
      youLost: 'You Lost!',
      tryAgain: 'Try Again',
      leaderboard: 'Leaderboard',
      rank: 'Rank',
      player: 'Player',
      guestPlayer: 'Guest Player',
      invalidWord: 'Invalid Word',
      wordTooShort: 'Word must be 5 letters',
      statistics: 'Game Statistics',
      totalGames: 'Total Games',
      gamesPlayed: 'Games Played',
      winRate: 'Win Rate',
      currentStreak: 'Current Streak',
      maxStreak: 'Max Streak',
      bestStreak: 'Best Streak',
      averageAttempts: 'Average Attempts',
      playAgain: 'Play Again',
      easy: 'Easy',
      medium: 'Medium',
      hard: 'Hard',
      difficulty: 'Game Difficulty',
      noHelpLeft: 'No help left',
      noNewHelpAvailable: 'No new help available',
      logout: 'Logout',
      profile: 'Profile',
      userInfo: 'User Information',
      close: 'Close',
      noGamesYet: 'No games yet',
      won: 'Won',
      lost: 'Lost',
      date: 'Date',
      word: 'Word',
      result: 'Result',
      playerProfile: 'Player Profile',
      totalScore: 'Total Score',
      guessDistribution: 'Guess Distribution',
      timeUntilNextChallenge: 'Time until next challenge',
      nextChallengeIn: 'Next challenge in',
      startChallenge: 'Start Challenge',
      hours: 'Hours',
      minutes: 'Minutes',
      seconds: 'Seconds',
      weeklyStats: 'Weekly Stats',
      monthlyStats: 'Monthly Stats',
      lastUpdate: 'Last Update',
      unlockPremium: 'Unlock Premium',
      guestModalDescription: 'By creating an account, you will have access to more features',
      progressTracking: 'Progress Tracking',
      achievements: 'Achievements',
      multiplayerMode: 'Multiplayer Mode',
      cloudSync: 'Cloud Sync',
      continueFree: 'Continue as Guest',
      guestAccessDenied: 'Access Denied',
      pleaseLoginToAccessDaily: 'Please log in or register to access daily challenge',
      pleaseLoginFirst: 'Please log in first',
      dailyChallenge: 'Daily Challenge',
      dailyChallengeDescription: 'Every day, a new word, a new challenge!',
      dailyChallengeStats: 'Daily Challenge Stats',
      dailyChallengeHistory: 'Daily Challenge History',
      dailyChallengeBest: 'Best Score',
      dailyChallengeStreak: 'Streak',
      dailyChallengeWinRate: 'Win Rate',
      dailyChallengeAverageGuesses: 'Average Guesses',
      dailyChallengeShare: 'Share Result',
      dailyChallengeShareText: 'I solved Wordle {attempts} times!',
      dailyChallengeShareButton: 'Share',
      dailyChallengeCopyButton: 'Copy',
      dailyChallengeCopied: 'Copied!',
      dailyChallengeNotStarted: 'You haven\'t started the daily challenge yet',
      dailyChallengeAlreadyPlayed: 'You have already played the daily challenge today',
      dailyChallengeExpired: 'The daily challenge has expired',
      dailyChallengeLoading: 'Loading challenge...',
      dailyChallengeError: 'Error loading challenge',
      dailyChallengeRetry: 'Retry',
      dailyChallengeLeaderboardTitle: 'Leaderboard',
      dailyChallengeLeaderboardEmpty: 'No one has played the daily challenge yet',
      dailyChallengeLeaderboardLoading: 'Loading leaderboard...',
      dailyChallengeLeaderboardError: 'Error loading leaderboard',
      dailyChallengeParticipationSuccess: 'You participated in the challenge successfully',
      dailyChallengeParticipationError: 'Error participating in the challenge',
      dailyChallengeGuessSuccess: 'Your guess was submitted successfully',
      dailyChallengeGuessError: 'Error submitting guess',
      dailyChallengeGuessInvalid: 'Invalid guess',
      dailyChallengeGuessTooShort: 'Guess must be 5 letters',
      dailyChallengeGuessTooLong: 'Guess cannot be more than 5 letters',
      dailyChallengeGuessNotInDictionary: 'This word is not in the dictionary',
      dailyChallengeGuessAlreadyUsed: 'This guess has already been used',
      dailyChallengeGuessLimitReached: 'You have reached the maximum number of guesses',
      dailyChallengeGuessInProgress: 'Checking guess...',
      dailyChallengeGuessSuccessTitle: 'Congratulations!',
      dailyChallengeGuessSuccessMessage: 'You solved the daily challenge in {attempts} guesses!',
      dailyChallengeGuessFailureTitle: 'Sorry, you lost!',
      dailyChallengeGuessFailureMessage: 'The word was "{word}"',
      dailyChallengeRules: 'Daily Challenge Rules',
      dailyChallengeRule1: 'One new word to guess each day',
      dailyChallengeRule2: 'You have 6 attempts to guess the word',
      dailyChallengeRule3: 'You can only participate once per day',
      noPlayer: 'No player',
      yourRank: 'Your Rank',
      yourScore: 'Your Score',
      viewAllRankings: 'View All Rankings'
    }
  }

  // Translation function
  const t = (key) => {
    return translations[locale.value]?.[key] || key
  }

  return {
    locale,
    dir,
    t
  }
} 